<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.36" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://github.com/fuxuelong/docs/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html"><meta property="og:site_name" content="后端技术笔记"><meta property="og:title" content="Hystrix熔断器"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><link rel="icon" href="./favicon.ico"><meta name="author" content="noErrorNoBug"><meta name="keywords" content="java,JVM,并发,算法,mysql,redis,mongodb,elasticsearch,spring,springboot,netty,mq,kafka,分布式,微服务,商城,秒杀,数据仓储,网络协议,Docker,Linux"><link rel="manifest" href="/docs/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#F0FFF0"><link rel="apple-touch-icon" href="/icons/icon-192x192.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="white"><link rel="mask-icon" href="/icons/icon-256x256.png" color="#F0FFF0"><meta name="msapplication-TileImage" content="/icons/icon-384x384.png"><meta name="msapplication-TileColor" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>Hystrix熔断器 | 后端技术笔记</title><meta name="description" content="fuxuelong的后端技术笔记">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/docs/assets/style.004f05f4.css">
    <link rel="modulepreload" href="/docs/assets/app.98d1b083.js"><link rel="modulepreload" href="/docs/assets/Hystrix熔断器.html.a0774133.js"><link rel="modulepreload" href="/docs/assets/Hystrix熔断器.html.ac091f90.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/docs/" class="home-link"><img class="logo light" src="/docs/logo.jpg" alt="后端技术笔记"><img class="logo dark light" src="/docs/logo.jpg" alt="后端技术笔记"><span class="site-name hide-in-pad">后端技术笔记</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="微服务"><span class="title"><!---->微服务</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>微服务架构理论</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/microservice/theory/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E7%90%86%E8%AE%BA.html" class="nav-link" arialabel="微服务架构理论"><!---->微服务架构理论<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>微服务构建</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/microservice/build/POM%E6%96%87%E4%BB%B6.html" class="nav-link" arialabel="pom文件"><!---->pom文件<!----></a></li><li class="dropdown-subitem"><a href="/docs/microservice/build/Rest%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%B7%A5%E7%A8%8B%E6%9E%84%E5%BB%BA.html" class="nav-link" arialabel="Rest微服务工程构建"><!---->Rest微服务工程构建<!----></a></li><li class="dropdown-subitem"><a href="/docs/microservice/build/Eureka%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" class="nav-link" arialabel="Eureka基础知识"><!---->Eureka基础知识<!----></a></li><li class="dropdown-subitem"><a href="/docs/microservice/build/Zookeeper%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" class="nav-link" arialabel="Zookeeper基础知识"><!---->Zookeeper基础知识<!----></a></li><li class="dropdown-subitem"><a href="/docs/microservice/build/Consul%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" class="nav-link" arialabel="Consul基础知识"><!---->Consul基础知识<!----></a></li><li class="dropdown-subitem"><a href="/docs/microservice/build/Ribbon%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.html" class="nav-link" arialabel="Ribbon负载均衡"><!---->Ribbon负载均衡<!----></a></li><li class="dropdown-subitem"><a href="/docs/microservice/build/%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8OpenFeign.html" class="nav-link" arialabel="服务调用OpenFeign"><!---->服务调用OpenFeign<!----></a></li><li class="dropdown-subitem"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html" class="router-link-active router-link-exact-active nav-link active" arialabel="Hystrix熔断器"><!---->Hystrix熔断器<!----></a></li><li class="dropdown-subitem"><a href="/docs/microservice/build/GateWay%E7%BD%91%E5%85%B3.html" class="nav-link" arialabel="GateWay网关"><!---->GateWay网关<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>注册中心|配置中心</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Nacos:服务注册与发现"><!---->Nacos:服务注册与发现<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Nacos:配置中心"><!---->Nacos:配置中心<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>负载均衡|远程调用</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="LoadBalancer:负载均衡器"><!---->LoadBalancer:负载均衡器<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="OpenFeign:函数式调用"><!---->OpenFeign:函数式调用<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Dubbo:RPC调用"><!---->Dubbo:RPC调用<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>容错限流降级</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Gateway:高可用网关API"><!---->Gateway:高可用网关API<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Sentinel:限流和降级"><!---->Sentinel:限流和降级<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Dubbo:RPC调用"><!---->Dubbo:RPC调用<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>事务解决方案</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式事务解决方案"><!---->分布式事务解决方案<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="RocketMQ:最终一致性事务解决方案"><!---->RocketMQ:最终一致性事务解决方案<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Seata:强一致性事务实现"><!---->Seata:强一致性事务实现<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>安全和认证</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Oauth2:开放授权"><!---->Oauth2:开放授权<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="JWT:令牌传输"><!---->JWT:令牌传输<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="SpringSecurity:服务安全"><!---->SpringSecurity:服务安全<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>链路追踪</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="SkyWalking:服务调用链"><!---->SkyWalking:服务调用链<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>SpringCloud扩展点</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="SpringCloud扩展点"><!---->SpringCloud扩展点<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="Java"><span class="title"><!---->Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>面向对象|基础</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/basic/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B.html" class="nav-link" arialabel="面向对象特性"><!---->面向对象特性<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/basic/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" class="nav-link" arialabel="Java基础知识"><!---->Java基础知识<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/basic/Java%E6%B3%9B%E5%9E%8B%E6%9C%BA%E5%88%B6.html" class="nav-link" arialabel="Java高级特性"><!---->Java高级特性<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JAVA 集合框架</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Collection 集合"><!---->Collection 集合<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Map 集合"><!---->Map 集合<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="并发集合框架"><!---->并发集合框架<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JAVA 并发框架</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="并发理论基础"><!---->并发理论基础<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="多线程基础"><!---->多线程基础<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="关键字详解"><!---->关键字详解<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="集合与并发集合"><!---->集合与并发集合<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="线程池"><!---->线程池<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="CAS原理和原子类"><!---->CAS原理和原子类<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="AQS原理和锁机制"><!---->AQS原理和锁机制<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="并发流程控制"><!---->并发流程控制<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Disruptor框架"><!---->Disruptor框架<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="ThreadLocal"><!---->ThreadLocal<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="并发设计模式"><!---->并发设计模式<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JAVA IO框架</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="JAVA IO"><!---->JAVA IO<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="JAVA NIO"><!---->JAVA NIO<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JVM原理</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/jvm/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6.html" class="nav-link" arialabel="JVM类加载机制"><!---->JVM类加载机制<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/jvm/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6.html" class="nav-link" arialabel="JVM内存知识"><!---->JVM内存知识<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/jvm/%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.html" class="nav-link" arialabel="JVM垃圾回收原理"><!---->JVM垃圾回收原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/jvm/%E5%AF%B9%E8%B1%A1%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html" class="nav-link" arialabel="JVM调优思路"><!---->JVM调优思路<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html" class="nav-link" arialabel="JVM线上调试排查"><!---->JVM线上调试排查<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JAVA 版本特性</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/version/java8/java8%E7%89%B9%E6%80%A7%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB.html" class="nav-link" arialabel="Java8特性"><!---->Java8特性<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/version/java11/java9%E5%88%B0java11%E7%89%B9%E6%80%A7%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB.html" class="nav-link" arialabel="java8升java11特性"><!---->java8升java11特性<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/version/java17/java12%E5%88%B0java17%E7%89%B9%E6%80%A7%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB.html" class="nav-link" arialabel="java11升java17特性"><!---->java11升java17特性<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="算法"><span class="title"><!---->算法</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数据结构</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="复杂度析分析"><!---->复杂度析分析<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="线性表相关数据结构"><!---->线性表相关数据结构<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="树相关数据结构"><!---->树相关数据结构<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="堆相关数据结构"><!---->堆相关数据结构<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="图相关数据结构"><!---->图相关数据结构<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>常用算法</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="排序算法"><!---->排序算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="查找算法"><!---->查找算法<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>算法思想</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="动态规划"><!---->动态规划<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分治算法"><!---->分治算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="二分法"><!---->二分法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="搜索算法"><!---->搜索算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="回溯算法"><!---->回溯算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="贪心算法"><!---->贪心算法<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>领域算法实践</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="加密算法"><!---->加密算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="字符串匹配算法"><!---->字符串匹配算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据一致性算法"><!---->数据一致性算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="负载均衡算法"><!---->负载均衡算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="限流算法"><!---->限流算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据处理算法"><!---->数据处理算法<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="数据库"><span class="title"><!---->数据库</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数据库基础</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据库理论"><!---->数据库理论<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="SQL语言"><!---->SQL语言<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>SQL数据库 Mysql</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="索引原理"><!---->索引原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="存储引擎"><!---->存储引擎<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="架构原理"><!---->架构原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="事务机制"><!---->事务机制<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="性能优化"><!---->性能优化<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分库分表和读写分离"><!---->分库分表和读写分离<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Nosql数据库 Redis</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据类型和数据结构"><!---->数据类型和数据结构<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高可用集群原理"><!---->高可用集群原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据持久化原理"><!---->数据持久化原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高性能原理"><!---->高性能原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="性能优化要点"><!---->性能优化要点<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="典型应用实现"><!---->典型应用实现<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Nosql数据库 ElasticSearch</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Elastic Stack生态"><!---->Elastic Stack生态<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="查询和聚合"><!---->查询和聚合<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="复杂搜索策略"><!---->复杂搜索策略<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="聚合匹配"><!---->聚合匹配<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据建模"><!---->数据建模<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="核心原理"><!---->核心原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="优化思路"><!---->优化思路<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="框架|中间件"><span class="title"><!---->框架|中间件</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring Framework</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="控制反转(IOC)"><!---->控制反转(IOC)<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="面向切面编程(AOP)"><!---->面向切面编程(AOP)<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="事务机制"><!---->事务机制<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="MVC机制"><!---->MVC机制<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="基于注解配置"><!---->基于注解配置<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="WebFlux"><!---->WebFlux<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring Boot</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="约定大于配置"><!---->约定大于配置<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="自动装配原理"><!---->自动装配原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="组件集成"><!---->组件集成<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ORM框架</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Mybatis核心原理"><!---->Mybatis核心原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Mybatis-Plus简化开发"><!---->Mybatis-Plus简化开发<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="WEB容器"><span class="title"><!---->WEB容器</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Nginx容器</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="架构及配置"><!---->架构及配置<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="性能调优"><!---->性能调优<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Tomcat容器</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Web请求过程"><!---->Web请求过程<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="启停原理"><!---->启停原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="网络原理"><!---->网络原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="热加载和热部署"><!---->热加载和热部署<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Netty容器</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Netty核心架构"><!---->Netty核心架构<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Netty线程模型实现原理"><!---->Netty线程模型实现原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Netty数据交换实现原理"><!---->Netty数据交换实现原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Netty优化"><!---->Netty优化<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="消息队列"><span class="title"><!---->消息队列</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>RocketMQ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="TODO"><!---->TODO<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Kafka</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Kafka核心原理"><!---->Kafka核心原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="典型应用方案"><!---->典型应用方案<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="调优思路分析"><!---->调优思路分析<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>RabbitMQ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="架构原理"><!---->架构原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="集群原理"><!---->集群原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="典型应用方案"><!---->典型应用方案<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="方法论|系统设计"><span class="title"><!---->方法论|系统设计</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>开发原则</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="代码设计原则"><!---->代码设计原则<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="代码规范和重构"><!---->代码规范和重构<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="开源协议和系统认证"><!---->开源协议和系统认证<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>设计模式范式</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="创建型范式"><!---->创建型范式<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="结构型范式"><!---->结构型范式<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="行为型范式"><!---->行为型范式<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>分布式理论</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式理论和模型"><!---->分布式理论和模型<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="事务理论和模型"><!---->事务理论和模型<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="微服务理论"><!---->微服务理论<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="架构|分布式"><span class="title"><!---->架构|分布式</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>系统架构</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="架构视角及演进"><!---->架构视角及演进<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="架构的模式与核心要素"><!---->架构的模式与核心要素<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高并发架构要素"><!---->高并发架构要素<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高可用架构要素"><!---->高可用架构要素<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高性能架构要素"><!---->高性能架构要素<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>分布式系统设计</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="全局唯一ID"><!---->全局唯一ID<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式锁"><!---->分布式锁<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式事务"><!---->分布式事务<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式缓存"><!---->分布式缓存<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式任务"><!---->分布式任务<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式会话"><!---->分布式会话<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式链路追踪"><!---->分布式链路追踪<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式文件"><!---->分布式文件<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式存储"><!---->分布式存储<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式计算"><!---->分布式计算<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>系统架构案例</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="秒杀系统案例"><!---->秒杀系统案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="后台管理系统案例"><!---->后台管理系统案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据同步案例"><!---->数据同步案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="商城架构案例"><!---->商城架构案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="轻量单体限流框架案例"><!---->轻量单体限流框架案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="轻量消息系统案例"><!---->轻量消息系统案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="OSS单点登录案例"><!---->OSS单点登录案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高可用网关案例"><!---->高可用网关案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="认证授权服务案例"><!---->认证授权服务案例<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="大数据"><span class="title"><!---->大数据</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数据同步</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="canal:数据库准实时同步"><!---->canal:数据库准实时同步<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>日志收集</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="ELK日志数据收集"><!---->ELK日志数据收集<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="项目|优化"><span class="title"><!---->项目|优化</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>系统性能优化</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Java编程性能调优"><!---->Java编程性能调优<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="多线程调优"><!---->多线程调优<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="JVM性能检测及调优"><!---->JVM性能检测及调优<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="设计模式调优"><!---->设计模式调优<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据库调优"><!---->数据库调优<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="基础设施优化"><!---->基础设施优化<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="系统网络调优"><!---->系统网络调优<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式系统优化"><!---->分布式系统优化<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="业务开发优化"><!---->业务开发优化<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>项目重构|项目设计</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="商城系统"><!---->商城系统<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="秒杀系统"><!---->秒杀系统<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="后台管理系统"><!---->后台管理系统<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="基于数据库的订阅中心"><!---->基于数据库的订阅中心<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="单机可插拔限流框架"><!---->单机可插拔限流框架<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高可用网关"><!---->高可用网关<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="认证授权系统"><!---->认证授权系统<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="OSS单点登录系统"><!---->OSS单点登录系统<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="工具|部署"><span class="title"><!---->工具|部署</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>开发工具</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="常用类库"><!---->常用类库<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="代码质量保障"><!---->代码质量保障<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="常用表达式"><!---->常用表达式<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="代码安全"><!---->代码安全<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Linux|Shell脚本</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Shell脚本"><!---->Shell脚本<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="文本操作命令"><!---->文本操作命令<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="系统操作命令"><!---->系统操作命令<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="系统管理命令"><!---->系统管理命令<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>网络协议|抓包工具</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Http1.1协议"><!---->Http1.1协议<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="WebSocket协议"><!---->WebSocket协议<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Http2协议"><!---->Http2协议<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="TLS/SSL协议"><!---->TLS/SSL协议<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="TCP协议"><!---->TCP协议<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="UDP协议"><!---->UDP协议<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="IP协议"><!---->IP协议<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Docker容器化</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="容器进程管理"><!---->容器进程管理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="容器内存管理"><!---->容器内存管理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="容器存储管理"><!---->容器存储管理<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>代码管理|依赖管理</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Git常用功能"><!---->Git常用功能<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分支管理模式"><!---->分支管理模式<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Maven依赖管理"><!---->Maven依赖管理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="GitHub常用功能"><!---->GitHub常用功能<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="常用开源工具"><!---->常用开源工具<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="一线通系统"><span class="title"><!---->一线通系统</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>问题</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/%E4%B8%80%E7%BA%BF%E9%80%9A/%E9%97%AE%E9%A2%98/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E9%97%AE%E9%A2%98.html" class="nav-link" arialabel="文件上传问题"><!---->文件上传问题<!----></a></li></ul></li></ul></button></div></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/fuxuelong" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" arialabelledby="auto" style="display:block;"><title id="auto" lang="en">auto icon</title><g fill="currentColor"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" arialabelledby="dark" style="display:none;"><title id="dark" lang="en">dark icon</title><g fill="currentColor"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" arialabelledby="light" style="display:none;"><title id="light" lang="en">light icon</title><g fill="currentColor"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></g></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar hide-icon"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">微服务架构理论</span><!----></p><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/docs/microservice/theory/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E7%90%86%E8%AE%BA.html" class="nav-link sidebar-link sidebar-page" arialabel="微服务架构理论"><!---->微服务架构理论<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><!----><span class="title">微服务构建</span><!----></p><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/docs/microservice/build/POM%E6%96%87%E4%BB%B6.html" class="nav-link sidebar-link sidebar-page" arialabel="pom文件"><!---->pom文件<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/microservice/build/Rest%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%B7%A5%E7%A8%8B%E6%9E%84%E5%BB%BA.html" class="nav-link sidebar-link sidebar-page" arialabel="Rest微服务工程构建"><!---->Rest微服务工程构建<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/microservice/build/Eureka%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" class="nav-link sidebar-link sidebar-page" arialabel="Eureka基础知识"><!---->Eureka基础知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/microservice/build/Zookeeper%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" class="nav-link sidebar-link sidebar-page" arialabel="Zookeeper基础知识"><!---->Zookeeper基础知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/microservice/build/Consul%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" class="nav-link sidebar-link sidebar-page" arialabel="Consul基础知识"><!---->Consul基础知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/microservice/build/Ribbon%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.html" class="nav-link sidebar-link sidebar-page" arialabel="Ribbon负载均衡"><!---->Ribbon负载均衡<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/microservice/build/%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8OpenFeign.html" class="nav-link sidebar-link sidebar-page" arialabel="服务调用OpenFeign"><!---->服务调用OpenFeign<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="Hystrix熔断器"><!---->Hystrix熔断器<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#一、hystrix简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="一、Hystrix简介"><!---->一、Hystrix简介<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_1、是什么" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1、是什么？"><!---->1、是什么？<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_2、能做什么" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2、能做什么"><!---->2、能做什么<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#二、hystrix重要概念" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="二、Hystrix重要概念"><!---->二、Hystrix重要概念<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_1、服务降级" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1、服务降级"><!---->1、服务降级<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_2、服务熔断" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2、服务熔断"><!---->2、服务熔断<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_3、服务限流" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3、服务限流"><!---->3、服务限流<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#三、hystrix案例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="三、Hystrix案例"><!---->三、Hystrix案例<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_1、pom" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1、POM"><!---->1、POM<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_2、在service层中添加两个方法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2、在service层中添加两个方法"><!---->2、在service层中添加两个方法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_3、使用jmeter压测测试" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3、使用Jmeter压测测试"><!---->3、使用Jmeter压测测试<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_4、新建cloud-consumer-feign-hystrix-order80" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4、新建cloud-consumer-feign-hystrix-order80"><!---->4、新建cloud-consumer-feign-hystrix-order80<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_5、如何使用hystrix解决" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5、如何使用Hystrix解决"><!---->5、如何使用Hystrix解决<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_6、服务降级-服务提供端" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6、服务降级(服务提供端)"><!---->6、服务降级(服务提供端)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_7、服务降级-配置方法1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7、服务降级 配置方法1"><!---->7、服务降级 配置方法1<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_8、服务降级-配置方法2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8、服务降级 配置方法2"><!---->8、服务降级 配置方法2<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_9、服务降级-配置方法3" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9、服务降级 配置方法3"><!---->9、服务降级 配置方法3<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_10、服务熔断概念" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="10、服务熔断概念"><!---->10、服务熔断概念<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_11、服务熔断案例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11、服务熔断案例"><!---->11、服务熔断案例<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_12、熔断总结" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12、熔断总结"><!---->12、熔断总结<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#四、hystrix仪表盘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="四、Hystrix仪表盘"><!---->四、Hystrix仪表盘<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_1、项目构建" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1、项目构建"><!---->1、项目构建<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/docs/microservice/build/GateWay%E7%BD%91%E5%85%B3.html" class="nav-link sidebar-link sidebar-page" arialabel="GateWay网关"><!---->GateWay网关<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">负载均衡|RPC调用</span><!----></p><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/docs/microservice/loadbalance/标题占位.md" class="nav-link sidebar-link sidebar-page" arialabel="/microservice/loadbalance/标题占位.md"><!---->/microservice/loadbalance/标题占位.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Hystrix熔断器</h1><div class="article-info"><span class="author-info" arialabel="作者🖊" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://fuxuelong.github.io/docs/" target="_blank" rel="noopener noreferrer">fuxuelong(fuxuelong)</a></span><span property="author" content="fuxuelong(fuxuelong)"></span></span><span class="date-info" arialabel="写作日期📅" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2022年6月30日</span><meta property="datePublished" content="2022-06-30T12:33:51.000Z"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#一、hystrix简介" class="router-link-active router-link-exact-active toc-link level2">一、Hystrix简介</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_1、是什么" class="router-link-active router-link-exact-active toc-link level3">1、是什么？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_2、能做什么" class="router-link-active router-link-exact-active toc-link level3">2、能做什么</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#二、hystrix重要概念" class="router-link-active router-link-exact-active toc-link level2">二、Hystrix重要概念</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_1、服务降级" class="router-link-active router-link-exact-active toc-link level3">1、服务降级</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_2、服务熔断" class="router-link-active router-link-exact-active toc-link level3">2、服务熔断</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_3、服务限流" class="router-link-active router-link-exact-active toc-link level3">3、服务限流</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#三、hystrix案例" class="router-link-active router-link-exact-active toc-link level2">三、Hystrix案例</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_1、pom" class="router-link-active router-link-exact-active toc-link level3">1、POM</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_2、在service层中添加两个方法" class="router-link-active router-link-exact-active toc-link level3">2、在service层中添加两个方法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_3、使用jmeter压测测试" class="router-link-active router-link-exact-active toc-link level3">3、使用Jmeter压测测试</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_4、新建cloud-consumer-feign-hystrix-order80" class="router-link-active router-link-exact-active toc-link level3">4、新建cloud-consumer-feign-hystrix-order80</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_5、如何使用hystrix解决" class="router-link-active router-link-exact-active toc-link level3">5、如何使用Hystrix解决</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_6、服务降级-服务提供端" class="router-link-active router-link-exact-active toc-link level3">6、服务降级(服务提供端)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_7、服务降级-配置方法1" class="router-link-active router-link-exact-active toc-link level3">7、服务降级 配置方法1</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_8、服务降级-配置方法2" class="router-link-active router-link-exact-active toc-link level3">8、服务降级 配置方法2</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_9、服务降级-配置方法3" class="router-link-active router-link-exact-active toc-link level3">9、服务降级 配置方法3</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_10、服务熔断概念" class="router-link-active router-link-exact-active toc-link level3">10、服务熔断概念</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_11、服务熔断案例" class="router-link-active router-link-exact-active toc-link level3">11、服务熔断案例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_12、熔断总结" class="router-link-active router-link-exact-active toc-link level3">12、熔断总结</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#四、hystrix仪表盘" class="router-link-active router-link-exact-active toc-link level2">四、Hystrix仪表盘</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_1、项目构建" class="router-link-active router-link-exact-active toc-link level3">1、项目构建</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><div class="custom-container info"><p class="custom-container-title">相关信息</p><p>文章介绍:</p></div><nav class="table-of-contents"><ul><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#一、hystrix简介" class="router-link-active router-link-exact-active">一、Hystrix简介</a><ul><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_1、是什么" class="router-link-active router-link-exact-active">1、是什么？</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_2、能做什么" class="router-link-active router-link-exact-active">2、能做什么</a></li></ul></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#二、hystrix重要概念" class="router-link-active router-link-exact-active">二、Hystrix重要概念</a><ul><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_1、服务降级" class="router-link-active router-link-exact-active">1、服务降级</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_2、服务熔断" class="router-link-active router-link-exact-active">2、服务熔断</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_3、服务限流" class="router-link-active router-link-exact-active">3、服务限流</a></li></ul></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#三、hystrix案例" class="router-link-active router-link-exact-active">三、Hystrix案例</a><ul><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_1、pom" class="router-link-active router-link-exact-active">1、POM</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_2、在service层中添加两个方法" class="router-link-active router-link-exact-active">2、在service层中添加两个方法</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_3、使用jmeter压测测试" class="router-link-active router-link-exact-active">3、使用Jmeter压测测试</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_4、新建cloud-consumer-feign-hystrix-order80" class="router-link-active router-link-exact-active">4、新建cloud-consumer-feign-hystrix-order80</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_5、如何使用hystrix解决" class="router-link-active router-link-exact-active">5、如何使用Hystrix解决</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_6、服务降级-服务提供端" class="router-link-active router-link-exact-active">6、服务降级(服务提供端)</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_7、服务降级-配置方法1" class="router-link-active router-link-exact-active">7、服务降级 配置方法1</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_8、服务降级-配置方法2" class="router-link-active router-link-exact-active">8、服务降级 配置方法2</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_9、服务降级-配置方法3" class="router-link-active router-link-exact-active">9、服务降级 配置方法3</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_10、服务熔断概念" class="router-link-active router-link-exact-active">10、服务熔断概念</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_11、服务熔断案例" class="router-link-active router-link-exact-active">11、服务熔断案例</a></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_12、熔断总结" class="router-link-active router-link-exact-active">12、熔断总结</a></li></ul></li><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#四、hystrix仪表盘" class="router-link-active router-link-exact-active">四、Hystrix仪表盘</a><ul><li><a aria-current="page" href="/docs/microservice/build/Hystrix%E7%86%94%E6%96%AD%E5%99%A8.html#_1、项目构建" class="router-link-active router-link-exact-active">1、项目构建</a></li></ul></li></ul></nav><h1 id="hystrix熔断器" tabindex="-1"><a class="header-anchor" href="#hystrix熔断器" aria-hidden="true">#</a> Hystrix熔断器</h1><h2 id="一、hystrix简介" tabindex="-1"><a class="header-anchor" href="#一、hystrix简介" aria-hidden="true">#</a> 一、Hystrix简介</h2><h3 id="_1、是什么" tabindex="-1"><a class="header-anchor" href="#_1、是什么" aria-hidden="true">#</a> 1、是什么？</h3><p>Hystrix是一个用于处理分布式系统的 延迟 和 容错 的开源库，在分布式系统里，许多依赖不可避免的会调用失败，比如超时、异常等，Hystrix能够保证在一个依赖出问题的情况下， 不会导致整体服务失败，避免级联故障，以提高分布式系统的弹性。</p><p>“断路器”本身是一种开关装置，当某个服务单元发生故障之后，通过断路器的故障监控（类似熔断保险丝）， 向调用方返回一个符合预期的、可处理的备选响应（FallBack） ， 而不是长时间的等待或者抛出调用方无法处理的异常 ，这样就保证了服务调用方的线程不会被长时间、不必要地占用，从而避免了故障在分布式系统中的蔓延，乃至雪崩。</p><p><strong>目前Hystrix也已经进入的维护模式，不再更新</strong></p><h3 id="_2、能做什么" tabindex="-1"><a class="header-anchor" href="#_2、能做什么" aria-hidden="true">#</a> 2、能做什么</h3><p>服务降级、服务熔断、接近实时监控</p><h2 id="二、hystrix重要概念" tabindex="-1"><a class="header-anchor" href="#二、hystrix重要概念" aria-hidden="true">#</a> 二、Hystrix重要概念</h2><h3 id="_1、服务降级" tabindex="-1"><a class="header-anchor" href="#_1、服务降级" aria-hidden="true">#</a> 1、服务降级</h3><p>服务降级概念：服务不可用时提供兜底解决方案</p><p><strong>哪些情况会导致服务降级？</strong></p><p>程序运行异常</p><p>超时</p><p>服务熔断</p><p>线程池/信号量打满也会导致服务降级</p><h3 id="_2、服务熔断" tabindex="-1"><a class="header-anchor" href="#_2、服务熔断" aria-hidden="true">#</a> 2、服务熔断</h3><p>类比保险丝达到最大服务访问后，直接拒绝访问，拉闸限电，然后调用服务降级的方法并返回友好提示</p><p>服务的降级-&gt;进而熔断-&gt;恢复调用链路</p><h3 id="_3、服务限流" tabindex="-1"><a class="header-anchor" href="#_3、服务限流" aria-hidden="true">#</a> 3、服务限流</h3><p>秒杀高并发等操作，严禁一窝蜂的过来拥挤，大家排队，一秒钟N个，有序进行</p><h2 id="三、hystrix案例" tabindex="-1"><a class="header-anchor" href="#三、hystrix案例" aria-hidden="true">#</a> 三、Hystrix案例</h2><p>新建cloud-provider-hystrix-payment8001</p><h3 id="_1、pom" tabindex="-1"><a class="header-anchor" href="#_1、pom" aria-hidden="true">#</a> 1、POM</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-hystrix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2、在service层中添加两个方法" tabindex="-1"><a class="header-anchor" href="#_2、在service层中添加两个方法" aria-hidden="true">#</a> 2、在service层中添加两个方法</h3><p>一个用于验证正常情况，一个 用于验证超时</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>
<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> fxl
 * <span class="token keyword">@date</span> 2022/5/25
 */</span>
<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">PaymentService</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 正常访问，一切 OK
     *
     * <span class="token keyword">@param</span> <span class="token parameter">id</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot; 线程池 :&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;paymentInfo_OK,id: &quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token string">&quot;O(∩_∩)O&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 时访问，演示降级
     *
     * <span class="token keyword">@param</span> <span class="token parameter">id</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string">&quot; 线程池 :&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;paymentInfo_TimeOut,id: &quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token string">&quot;O(∩_∩)O ，耗费 3 秒 &quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="_3、使用jmeter压测测试" tabindex="-1"><a class="header-anchor" href="#_3、使用jmeter压测测试" aria-hidden="true">#</a> 3、使用Jmeter压测测试</h3><p>正常访问上述的ok接口时立马返回结果，访问timeout接口需要等待三秒。</p><p>使用Jmeter对timeout接口进行2万次的高并发访问</p><p><img src="https://raw.githubusercontent.com/fuxuelong/docs/master/docs/microservice/build/pic/Jmeter.jpg" alt="图" loading="lazy"></p><p>并发访问后，访问ok接口也会等待</p><h3 id="_4、新建cloud-consumer-feign-hystrix-order80" tabindex="-1"><a class="header-anchor" href="#_4、新建cloud-consumer-feign-hystrix-order80" aria-hidden="true">#</a> 4、新建cloud-consumer-feign-hystrix-order80</h3><p>通过openFeign调用ok和time接口，正常情况下相应很快，但是当使用两万次压力测试访问timeout接口后，feign也出现等待甚至报超时错误</p><h3 id="_5、如何使用hystrix解决" tabindex="-1"><a class="header-anchor" href="#_5、如何使用hystrix解决" aria-hidden="true">#</a> 5、如何使用Hystrix解决</h3><p>要求：</p><p>对方服务(8001)超时了，调用者(80)不能一直卡死等待，必须有服务降级</p><p>对方服务(8001)down机了，调用者(80)不能一直卡死等待，必须有服务降级</p><p>对方服务(8001)OK，调用者(80)自己出故障或有自我要求（自己的等待时间小于服务提供者），自己处理降级</p><h3 id="_6、服务降级-服务提供端" tabindex="-1"><a class="header-anchor" href="#_6、服务降级-服务提供端" aria-hidden="true">#</a> 6、服务降级(服务提供端)</h3><p>当其中一个服务提供方的接口出现问题时，能够将提供一个处理接口返回提示：</p><p>修改服务提供方接口：添加<strong>降级配置****@HystrixCommand</strong></p><p>同时在启动类中添加@EnableCircuitBreaker激活</p><p>在接口中分别制造两个异常，报错和超时，</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>

    <span class="token comment">// @HystrixCommand注解表示，当paymentInfo_TimeOut接口超过3000ms未响应时，用paymentInfo_TimeOutHandler接口处理请求</span>
    <span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">&quot;paymentInfo_TimeOutHandler&quot;</span><span class="token punctuation">,</span> commandProperties <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;execution.isolation.thread.timeoutInMilliseconds&quot;</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/payment/hystrix/timeout/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;****result: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOutHandler</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;/( ㄒ o ㄒ )/ 调用支付接口超时或异常:&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;当前线程池名字 &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>无论超时还是报错，最后都会由paymentInfo_TimeOutHandler接口进行处理</p><p>fallback方法进行处理时，是新发起了一个线程</p><div class="custom-container danger"><p class="custom-container-title">警告</p><p>在配置fallback方法时，参数和返回值必须与原接口保持一致， 要不会报找不到paymentInfo_TimeOutHandler的错误</p></div><h3 id="_7、服务降级-配置方法1" tabindex="-1"><a class="header-anchor" href="#_7、服务降级-配置方法1" aria-hidden="true">#</a> 7、服务降级 配置方法1</h3><p>一般情况下服务降级的配置都在服务调用端</p><p>修改yml文件</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">feign</span><span class="token punctuation">:</span>
  <span class="token key atrule">hystrix</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>启动类添加@EnableHystrix</p><p>修改业务方法</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>
    @HystrixCommand(fallbackMethod = &quot;paymentTimeOutFallbackMethod&quot;<span class="token punctuation">,</span> commandProperties = <span class="token punctuation">{</span>
            @HystrixProperty(name = &quot;execution.isolation.thread.timeoutInMilliseconds&quot;<span class="token punctuation">,</span> value = &quot;1500&quot;)<span class="token punctuation">}</span>)
    @GetMapping(value = &quot;/consumer/payment/hystrix/timeout/<span class="token punctuation">{</span>id<span class="token punctuation">}</span>&quot;)
    public String paymentInfo_TimeOut(@PathVariable(&quot;id&quot;) Integer id) <span class="token punctuation">{</span>
        return paymentFeignService.paymentInfo_TimeOut(id);
    <span class="token punctuation">}</span>

    public String paymentTimeOutFallbackMethod(Integer id) <span class="token punctuation">{</span>
        return &quot;我是消费者 80<span class="token punctuation">,</span> 对方支付系统繁忙请 10 秒钟后再试或者自己运行出错请检查自己<span class="token punctuation">,</span>o(╥﹏╥)o&quot; ;
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="custom-container danger"><p class="custom-container-title">警告</p><p>上述配置后，发下@HystrixProperty中的value不管配置多大，即时服务提供者cloud-provider-hystrix-payment8001 中的paymentInfo_TimeOut接口中的接口已经调通，最终都会进入fallback接口。</p><p>最后在yaml文件中加入如下配置问题才解决：</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>
<span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
  <span class="token comment"># 指的是建立连接后从服务器读取到可用资源所用的时间</span>
  <span class="token key atrule">ReadTimeout</span><span class="token punctuation">:</span> <span class="token number">5000</span>
  <span class="token comment"># 指的是建立连接所用的时间，适用于网络状况正常的情况下 , 两端连接所用的时间</span>
  <span class="token key atrule">ConnectTimeout</span><span class="token punctuation">:</span> <span class="token number">5000</span>
  <span class="token key atrule">MaxAutoRetries</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token comment">#同一台实例最大重试次数,不包括首次调用</span>
  <span class="token key atrule">MaxAutoRetriesNextServer</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token comment">#更换实例大的次数</span>
<span class="token comment">#超时时间配置，此处全局超时配置时间大于@HystrixProperty配置时间后，@HystrixProperty注解中的超时才生效</span>
<span class="token key atrule">hystrix</span><span class="token punctuation">:</span>
  <span class="token key atrule">command</span><span class="token punctuation">:</span>
    <span class="token key atrule">default</span><span class="token punctuation">:</span>
      <span class="token key atrule">execution</span><span class="token punctuation">:</span>
        <span class="token key atrule">isolation</span><span class="token punctuation">:</span>
          <span class="token key atrule">thread</span><span class="token punctuation">:</span>
            <span class="token key atrule">timeoutInMilliseconds</span><span class="token punctuation">:</span> <span class="token number">300000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>首先，此时通过openFeign调用接口，超时时间由ribbon和Hystrix共同控制，时间先到者负责报出超时异常；因为ribbon默认超时时间为1秒，所有此处应该配置ribbon的超时时间，否则ribbon会报超时</p><p>其次，Hystrix的HystrixProperty中的value配置小于yml中的timeoutInMilliseconds全局超时配置时间中的配置时，value配置才管用</p><p>hystrix超时时间的配置原则：= (1 + MaxAutoRetries + MaxAutoRetriesNextServer*MaxAutoRetries) * ReadTimeout，其中MaxAutoRetries为ribbon的最大重试次数，默认为0，MaxAutoRetriesNextServer为切换实例的重试次数，默认为0</p><p>如果Hystrix的超时时间比ribbon还小，那么ribbon的重试策略就无意义了。</p></div><h3 id="_8、服务降级-配置方法2" tabindex="-1"><a class="header-anchor" href="#_8、服务降级-配置方法2" aria-hidden="true">#</a> 8、服务降级 配置方法2</h3><h4 id="controller层配置-defaultproperties-defaultfallback-paymenttimeoutfallbackmethod" tabindex="-1"><a class="header-anchor" href="#controller层配置-defaultproperties-defaultfallback-paymenttimeoutfallbackmethod" aria-hidden="true">#</a> controller层配置@DefaultProperties(defaultFallback=&quot;paymentTimeOutFallbackMethod&quot;)</h4><h4 id="方法上要添加-hystrixcommand" tabindex="-1"><a class="header-anchor" href="#方法上要添加-hystrixcommand" aria-hidden="true">#</a> 方法上要添加@HystrixCommand</h4><h3 id="_9、服务降级-配置方法3" tabindex="-1"><a class="header-anchor" href="#_9、服务降级-配置方法3" aria-hidden="true">#</a> 9、服务降级 配置方法3</h3><p>进一步解耦</p><p>在feign接口类上配置统一的服务降级处理类</p><p>比如feign接口类为PaymentFeignClientService；</p><p>首先在添加PaymentFallbackService 类，实现PaymentFeignClientService</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentFallbackService</span> <span class="token keyword">implements</span> <span class="token class-name">PaymentFeignService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot; 服务调用失败，提示来自： cloud-consumer-feign-order80&quot;</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot; 服务调用失败，提示来自： cloud-consumer-feign-order80&quot;</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>然后PaymentFeignService接口上的@FeignClient注解配置</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;CLOUD-PROVIDER-HYSTRIX-PAYMENT&quot;</span><span class="token punctuation">,</span>fallback <span class="token operator">=</span> <span class="token class-name">PaymentFallbackService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentFeignService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/payment/hystrix/ok/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/payment/hystrix/timeout/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>最后配置YML文件</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">feign</span><span class="token punctuation">:</span>
  <span class="token key atrule">hystrix</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#在feign中开启hystrix</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">提示</p><p>以上三种降级方法配置的优先级：1&gt;2&gt;3</p></div><h3 id="_10、服务熔断概念" tabindex="-1"><a class="header-anchor" href="#_10、服务熔断概念" aria-hidden="true">#</a> 10、服务熔断概念</h3><p>熔断机制是应对雪崩效应的一种微服务链路保护机制。当扇出链路的某个微服务出错不可用或者响应时间太长时，</p><p>会进行服务的降级，进而熔断该节点微服务的调用，快速返回错误的响应信息。</p><p>当检测到该节点微服务调用响应正常后，恢复调用链路 。</p><p>在Spring Cloud框架里，熔断机制通过Hystrix实现。Hystrix会监控微服务间调用的状况，</p><p>当失败的调用到一定阈值，缺省是5秒内20次调用失败，就会启动熔断机制。熔断机制的注解是@HystrixCommand。</p><h3 id="_11、服务熔断案例" tabindex="-1"><a class="header-anchor" href="#_11、服务熔断案例" aria-hidden="true">#</a> 11、服务熔断案例</h3><p>修改cloud-provider-hystrix-payment8001微服务</p><p>添加paymentCircuitBreaker 和paymentCircuitBreaker_fallback 到PaymentServiceImpl类中</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>
    <span class="token comment">//========= 服务熔断</span>
    <span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">&quot;paymentCircuitBreaker_fallback&quot;</span><span class="token punctuation">,</span>
            commandProperties <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;circuitBreaker.enabled&quot;</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// 是否开启断路器</span>
                    <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;circuitBreaker.requestVolumeThreshold&quot;</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//请求次数</span>
                    <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;circuitBreaker.sleepWindowInMilliseconds&quot;</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">&quot;10000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//时间窗口期</span>
                    <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;circuitBreaker.errorThresholdPercentage&quot;</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">&quot;60&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//失败率达到多少后跳闸,在此处指的是十次里面有6次失败就熔断</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentCircuitBreaker</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;******id 不能负数 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">String</span> serialNumber <span class="token operator">=</span> <span class="token class-name">IdUtil</span><span class="token punctuation">.</span><span class="token function">simpleUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;调用成功，流水号 :&quot;</span> <span class="token operator">+</span> serialNumber<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentCircuitBreaker_fallback</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;id 不能负数，请稍后再试， /( ㄒ o ㄒ )/~~  id: &quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>controller层调用</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/payment/circuit/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentCircuitBreaker</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">paymentCircuitBreaker</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;******result:&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>实验现象。使用http://localhost:8001/payment/circuit/{id}进行测试</p><p>正常情况下，id为整数时一切正常，当id为负数时，调用超过一定次数后，即时id改为正数，接口仍然进入paymentCircuitBreaker_fallback方法，此时Hystrix熔断</p><h3 id="_12、熔断总结" tabindex="-1"><a class="header-anchor" href="#_12、熔断总结" aria-hidden="true">#</a> 12、熔断总结</h3><p>断路器什么情况下起作用：</p><p>涉及到断路器的三个重要参数： 快照时间窗、请求总数阀值、错误百分比阀值。</p><p>1：快照时间窗：断路器确定是否打开需要统计一些请求和错误数据，而统计的时间范围就是快照时间窗，默认为最近的10秒。</p><p>2：请求总数阀值：在快照时间窗内，必须满足请求总数阀值才有资格熔断。默认为20，意味着在10秒内，如果该hystrix命令的调用次数不足20次，即使所有的请求都超时或其他原因失败，断路器都不会打开。</p><p>3：错误百分比阀值：当请求总数在快照时间窗内超过了阀值，比如发生了30次调用，如果在这30次调用中，有15次发生了超时异常，也就是超过50%的错误百分比，在默认设定50%阀值情况下，这时候就会将断路器打开。</p><h2 id="四、hystrix仪表盘" tabindex="-1"><a class="header-anchor" href="#四、hystrix仪表盘" aria-hidden="true">#</a> 四、Hystrix仪表盘</h2><h3 id="_1、项目构建" tabindex="-1"><a class="header-anchor" href="#_1、项目构建" aria-hidden="true">#</a> 1、项目构建</h3><p>新建cloud-consumer-hystrix-dashboard9001</p><p>POM中 添加</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-hystrix-dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>YML</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9001</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>启动类中添加注解</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableHystrixDashboard</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>所有被监控项目（8001/8002/8003）都需要监控依赖配置：</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>启动9001项目，访问http://localhost:9001/hystrix</p><p>在被监控项目启动类中添加配置：如果不加改配置会出现Unable to connect to Command Metric Stream.</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>
<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> fxl
 * <span class="token keyword">@date</span> 2022/5/25
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaClient</span>
<span class="token annotation punctuation">@EnableDiscoveryClient</span>
<span class="token annotation punctuation">@EnableCircuitBreaker</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentHystrixMain8001</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentHystrixMain8001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/*** 此配置是为了服务监控而配置，与服务容错本身无关， springcloud 升级后的坑
     *ServletRegistrationBean 因为 springboot 的默认路径不是 &quot;/hystrix.stream&quot; ，  * 只要在自己的项目里配置上下面的 servlet 就可以了  */</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletRegistrationBean</span> <span class="token function">getServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">HystrixMetricsStreamServlet</span> streamServlet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HystrixMetricsStreamServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ServletRegistrationBean</span> registrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletRegistrationBean</span><span class="token punctuation">(</span>streamServlet<span class="token punctuation">)</span><span class="token punctuation">;</span>
        registrationBean<span class="token punctuation">.</span><span class="token function">setLoadOnStartup</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        registrationBean<span class="token punctuation">.</span><span class="token function">addUrlMappings</span><span class="token punctuation">(</span><span class="token string">&quot;/hystrix.stream&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        registrationBean<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;HystrixMetricsStreamServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> registrationBean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><img src="https://raw.githubusercontent.com/fuxuelong/docs/master/docs/microservice/build/pic/HystrixDashboard.jpg" alt="图" loading="lazy"></p><p>实心圆：共有两种含义。它通过颜色的变化代表了实例的健康程度，它的健康度从绿色&lt;黄色&lt;橙色&lt;红色递减。</p><p>该实心圆除了颜色的变化之外，它的大小也会根据实例的请求流量发生变化，流量越大该实心圆就越大。所以通过该实心圆的展示，就可以在大量的实例中快速的发现 故障实例和高压力实例。</p><p>曲线：用来记录2分钟内流量的相对变化，可以通过它来观察到流量的上升和下降趋势。</p><p><img src="https://raw.githubusercontent.com/fuxuelong/docs/master/docs/microservice/build/pic/HystrixDashboard说明0.jpg" alt="图" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/fuxuelong/docs/master/docs/microservice/build/pic/HystrixDashboard说明.jpg" alt="图" loading="lazy"></p><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/fuxuelong/docs/edit/master/docs/microservice/build/Hystrix熔断器.md" rel="noopener noreferrer" target="_blank" arialabel="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/7/15 13:48:51</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: fuxuelong1993@163.com">fuxuelong</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/docs/microservice/build/服务调用OpenFeign.md" class="nav-link prev" arialabel="服务调用OpenFeign"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->服务调用OpenFeign</div></a><a href="/docs/microservice/build/GateWay网关.md" class="nav-link next" arialabel="GateWay网关"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">GateWay网关<!----></div></a></nav><div class="giscus-wrapper" style="display:none;"><!----></div><!----></main><!--]--><footer class="footer-wrapper"><div class="footer">Apache License 2.0 | Copyright © 2018-present fuxuelong</div><!----></footer></div><!--]--><!----><!--[--><!-- Root element of PhotoSwipe. Must have class pswp. --><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><!-- Background of PhotoSwipe. 
    It’s a separate element, as animating opacity is faster than rgba().--><div class="pswp__bg"></div><!-- Slides wrapper with overflow:hidden. --><div class="pswp__scroll-wrap"><!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. --><div class="pswp__container"><!-- don’t modify these 3 pswp__item elements, data is added later on --><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><!--  Controls are self-explanatory. Order can be changed. --><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="关闭"></button><button class="pswp__button pswp__button--share" title="分享"></button><button class="pswp__button pswp__button--fs" title="切换全屏"></button><button class="pswp__button pswp__button--zoom" title="缩放"></button><!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR --><!-- element will get class pswp__preloader--active when preloader is running --><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="上一个 (左箭头)"></button><button class="pswp__button pswp__button--arrow--right" title="下一个 (右箭头)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><!--]--><!----><div id="pwa-install"><!----><div id="install-modal-wrapper" style="display:none;"><div class="background"></div><div class="install-modal"><div class="header"><button class="close-button" aria-label="关闭"><svg xmlns="http://www.w3.org/2000/svg" class="icon close-icon" viewbox="0 0 1024 1024" arialabelledby="close"><title id="close" lang="en">close icon</title><g fill="currentColor"><path d="M589.654 511.965 1007.212 84.22a49.777 49.777 0 0 0-.73-70.02 49.046 49.046 0 0 0-69.687.665L519.967 441.946 85.882 14.2a49.08 49.08 0 0 0-69.687.664 49.777 49.777 0 0 0 .664 70.019l433.454 427.082L16.859 939.048a49.777 49.777 0 0 0-.664 70.019 49.013 49.013 0 0 0 69.687.663l434.085-427.746 416.828 427.083A49.013 49.013 0 0 0 972.037 1024a48.416 48.416 0 0 0 34.512-14.27 49.777 49.777 0 0 0 .73-70.019z"></path></g></svg></button><div class="logo"><!--v-if--><div class="title"><h1></h1><p class="desc">该应用可以安装在你的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和你的操作系统安全地进行交互。</p></div></div></div><div class="content"><div class="highlight"><!--v-if--><!--v-if--></div><div class="description"><h3>详情</h3><p></p></div></div><div class="button-wrapper"><button class="install-button">安装 <span></span></button><button class="cancel-button">取消</button></div></div></div></div><!--]--></div>
    <script type="module" src="/docs/assets/app.98d1b083.js" defer></script>
  </body>
</html>
