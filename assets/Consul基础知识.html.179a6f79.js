import{_ as l,r as o,o as p,a as c,d as n,b as s,w as e,F as u,e as r,f as t}from"./app.98d1b083.js";const i={},d=n("div",{class:"custom-container info"},[n("p",{class:"custom-container-title"},"\u76F8\u5173\u4FE1\u606F"),n("p",null,"\u6587\u7AE0\u4ECB\u7ECD:")],-1),h={class:"table-of-contents"},k=t("\u4E00\u3001Consul\u7B80\u4ECB"),b=t("1\u3001\u662F\u4EC0\u4E48\uFF1F"),m=t("\u4E8C\u3001\u5B89\u88C5\u548C\u542F\u52A8"),_=t("1\u3001mac\u5B89\u88C5consul"),g=t("2\u3001\u542F\u52A8consul"),v=t("3\u3001\u65B0\u5EFA\u670D\u52A1\u6CE8\u518C\u8FDBconsul"),f=t("4\u3001\u601D\u8003\uFF1Aeureka\u3001Zookeeper\u3001Consul\u7684\u5F02\u540C\u70B9"),y=r(`<h1 id="consul\u57FA\u7840\u77E5\u8BC6" tabindex="-1"><a class="header-anchor" href="#consul\u57FA\u7840\u77E5\u8BC6" aria-hidden="true">#</a> Consul\u57FA\u7840\u77E5\u8BC6</h1><h2 id="\u4E00\u3001consul\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#\u4E00\u3001consul\u7B80\u4ECB" aria-hidden="true">#</a> \u4E00\u3001Consul\u7B80\u4ECB</h2><h3 id="_1\u3001\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u662F\u4EC0\u4E48" aria-hidden="true">#</a> 1\u3001\u662F\u4EC0\u4E48\uFF1F</h3><p>Consul \u662F\u4E00\u5957\u5F00\u6E90\u7684\u5206\u5E03\u5F0F\u670D\u52A1\u53D1\u73B0\u548C\u914D\u7F6E\u7BA1\u7406\u7CFB\u7EDF\uFF0C\u7531 HashiCorp \u516C\u53F8 \u7528 Go \u8BED\u8A00\u5F00\u53D1</p><p>\u63D0\u4F9B\u4E86\u5FAE\u670D\u52A1\u7CFB\u7EDF\u4E2D\u7684\u670D\u52A1\u6CBB\u7406\u3001\u914D\u7F6E\u4E2D\u5FC3\u3001\u63A7\u5236\u603B\u7EBF\u7B49\u529F\u80FD\u3002\u8FD9\u4E9B\u529F\u80FD\u4E2D\u7684\u6BCF\u4E00\u4E2A\u90FD\u53EF\u4EE5\u6839\u636E\u9700\u8981\u5355\u72EC\u4F7F\u7528\uFF0C\u4E5F\u53EF\u4EE5\u4E00\u8D77\u4F7F\u7528\u4EE5\u6784\u5EFA\u5168\u65B9\u4F4D\u7684\u670D\u52A1\u7F51\u683C\uFF0C\u603B\u4E4BConsul\u63D0\u4F9B\u4E86\u4E00\u79CD\u5B8C\u6574\u7684\u670D\u52A1\u7F51\u683C\u89E3\u51B3\u65B9\u6848\u3002</p><p>\u5B83\u5177\u6709\u5F88\u591A\u4F18\u70B9\u3002\u5305\u62EC\uFF1A \u57FA\u4E8E raft \u534F\u8BAE\uFF0C\u6BD4\u8F83\u7B80\u6D01\uFF1B \u652F\u6301\u5065\u5EB7\u68C0\u67E5, \u540C\u65F6\u652F\u6301 HTTP \u548C DNS \u534F\u8BAE \u652F\u6301\u8DE8\u6570\u636E\u4E2D\u5FC3\u7684 WAN \u96C6\u7FA4 \u63D0\u4F9B\u56FE\u5F62\u754C\u9762 \u8DE8\u5E73\u53F0\uFF0C\u652F\u6301 Linux\u3001Mac\u3001Windows</p><h2 id="\u4E8C\u3001\u5B89\u88C5\u548C\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#\u4E8C\u3001\u5B89\u88C5\u548C\u542F\u52A8" aria-hidden="true">#</a> \u4E8C\u3001\u5B89\u88C5\u548C\u542F\u52A8</h2><h3 id="_1\u3001mac\u5B89\u88C5consul" tabindex="-1"><a class="header-anchor" href="#_1\u3001mac\u5B89\u88C5consul" aria-hidden="true">#</a> 1\u3001mac\u5B89\u88C5consul</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>brew tap hashicorp/tap
brew <span class="token function">install</span> hashicorp/tap/consul
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2\u3001\u542F\u52A8consul" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u542F\u52A8consul" aria-hidden="true">#</a> 2\u3001\u542F\u52A8consul</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>consul agent -dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u542F\u52A8\u540E\u9ED8\u8BA4\u7AEF\u53E3\u4E3A8500\uFF0C\u8BBF\u95EEhttp://localhost:8500/</p><p><img src="https://raw.githubusercontent.com/fuxuelong/docs/master/docs/microservice/build/pic/consul\u542F\u52A8.jpg" alt="\u56FE" loading="lazy"></p><h3 id="_3\u3001\u65B0\u5EFA\u670D\u52A1\u6CE8\u518C\u8FDBconsul" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u65B0\u5EFA\u670D\u52A1\u6CE8\u518C\u8FDBconsul" aria-hidden="true">#</a> 3\u3001\u65B0\u5EFA\u670D\u52A1\u6CE8\u518C\u8FDBconsul</h3><p>\u521B\u5EFAcloud-providerconsul-payment8006</p><p>yml\u914D\u7F6E</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8006</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> consul<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>payment
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">consul</span><span class="token punctuation">:</span>
      <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8500</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">service-name</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>spring.application.name<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>pom\u4F9D\u8D56\u9700\u8981</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-consul-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u542F\u52A8\u7C7B\u9700\u8981\u52A0\u4E0A\u6CE8\u89E3@EnableDiscoveryClient</p><p>\u542F\u52A8\u540E</p><p><img src="https://raw.githubusercontent.com/fuxuelong/docs/master/docs/microservice/build/pic/\u6CE8\u518C\u6210\u529F\u540E.jpg" alt="\u56FE" loading="lazy"></p><p>\u670D\u52A1\u63D0\u4F9B\u8005\u6CE8\u518C\u6210\u529F\u540E\u518D\u5C06\u670D\u52A1\u6D88\u8D39\u8005\u6CE8\u518C\u8FDBconsul\uFF0Ccloud-consumer-order80</p><div class="custom-container warning"><p class="custom-container-title">\u6CE8\u610F</p><p>\u670D\u52A1\u6CE8\u518C\u8FDBconsul\u4E4B\u540E\u670D\u52A1\u540D\u4E0D\u4F1A\u81EA\u52A8\u8F6C\u4E3A\u5927\u5199</p></div><h3 id="_4\u3001\u601D\u8003-eureka\u3001zookeeper\u3001consul\u7684\u5F02\u540C\u70B9" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u601D\u8003-eureka\u3001zookeeper\u3001consul\u7684\u5F02\u540C\u70B9" aria-hidden="true">#</a> 4\u3001\u601D\u8003\uFF1Aeureka\u3001Zookeeper\u3001Consul\u7684\u5F02\u540C\u70B9</h3><table><thead><tr><th>\u7EC4\u4EF6\u540D</th><th>\u8BED\u8A00</th><th>CAP</th><th>\u670D\u52A1\u5065\u5EB7\u68C0\u67E5</th><th>\u5BF9\u5916\u66B4\u9732\u63A5\u53E3</th><th>Spring Cloud\u96C6\u6210</th></tr></thead><tbody><tr><td>Eureka</td><td>Java</td><td>AP</td><td>\u53EF\u914D\u652F\u6301</td><td>Http</td><td>\u5DF2\u96C6\u6210</td></tr><tr><td>Consul</td><td>Go</td><td>CP</td><td>\u652F\u6301</td><td>Http/DNS</td><td>\u5DF2\u96C6\u6210</td></tr><tr><td>Zookeeper</td><td>Java</td><td>CP</td><td>\u652F\u6301</td><td>\u5BA2\u6237\u7AEF</td><td>\u5DF2\u96C6\u6210</td></tr></tbody></table>`,26);function x(C,w){const a=o("RouterLink");return p(),c(u,null,[d,n("nav",h,[n("ul",null,[n("li",null,[s(a,{to:"#\u4E00\u3001consul\u7B80\u4ECB"},{default:e(()=>[k]),_:1}),n("ul",null,[n("li",null,[s(a,{to:"#_1\u3001\u662F\u4EC0\u4E48"},{default:e(()=>[b]),_:1})])])]),n("li",null,[s(a,{to:"#\u4E8C\u3001\u5B89\u88C5\u548C\u542F\u52A8"},{default:e(()=>[m]),_:1}),n("ul",null,[n("li",null,[s(a,{to:"#_1\u3001mac\u5B89\u88C5consul"},{default:e(()=>[_]),_:1})]),n("li",null,[s(a,{to:"#_2\u3001\u542F\u52A8consul"},{default:e(()=>[g]),_:1})]),n("li",null,[s(a,{to:"#_3\u3001\u65B0\u5EFA\u670D\u52A1\u6CE8\u518C\u8FDBconsul"},{default:e(()=>[v]),_:1})]),n("li",null,[s(a,{to:"#_4\u3001\u601D\u8003-eureka\u3001zookeeper\u3001consul\u7684\u5F02\u540C\u70B9"},{default:e(()=>[f]),_:1})])])])])]),y],64)}var z=l(i,[["render",x]]);export{z as default};
